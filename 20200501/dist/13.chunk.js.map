{"version":3,"sources":["webpack:///./src/views/login/index.vue","webpack:///index.vue?4c09","webpack:///./src/views/login/styles/login.less","webpack:///./src/views/login/index.vue?7808"],"names":[],"mappings":";;;;;;AACA;AACA,uBAA0Q;;AAE1Q;AACA;AACA;AACA;AACA,yBAAsG;AACtG;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,iDAAiD,IAAI;AACpI,mCAAmC;;AAEnC;AACA,YAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACWA;;AAEA;;iBACA;AAGA;;;kEACA;8BACA;mFACA;wDACA;AACA;mBACA;uCACA;uFACA;4DACA;6EACA;AACA;AACA;AACA;AACA;AACA;AAGA;;;gEACA;8BACA;kFACA;uDACA;AACA;mBACA;sCACA;sFACA;2DACA;4EACA;AACA;AACA;AACA;AACA;AACA;;uCAEA;mDACA;;sBAEA,kCAEA;0BACA,iCAIA;AARA;AAHA;AAYA;gCACA;aACA;AACA;aACA;AACA;;;oDAGA;sDACA;qDACA;yFACA;AACA;kDACA;qDACA;oDACA;wFACA;AACA;;AACA;;qBACA;uDACA;4BACA;AACA;AACA;0BACA;;8BAEA;;kDAEA;sDAGA;AAJA;AAFA;;+CAQA;;oCAEA;sEACA;yCACA;wCAEA;AALA;AAMA;AACA;AATA,mGAUA;;;;;wEACA;;gCAEA;6CACA;qCACA;oCAEA;AALA;wCAMA;wCACA;;gCAEA;6CACA;qCACA;oCAEA;AALA;AAMA;AACA;AACA;AACA;sCACA;qBACA;2CACA;4CACA,oBACA;AACA;AACA;;AAGA;;;sDACA;+CACA;wBACA;8CACA;AAEA;AAtEA;AA1DA,G;;;;;;;AC3CA,yC;;;;;;;ACAA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,C","file":"13.chunk.js","sourcesContent":["\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?minimize!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-aeaf5318\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!autoprefixer-loader!less-loader!./styles/login.less\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-aeaf5318\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"G:\\\\云拼接\\\\客户端\\\\web1.1\\\\wallweb\\\\view_el\\\\src\\\\views\\\\login\\\\index.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] index.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-loader/node_modules/vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-aeaf5318\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-aeaf5318\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/login/index.vue\n// module id = 394\n// module chunks = 13","<style lang=\"less\" src=\"./styles/login.less\"></style>\n<template>\n    <div class=\"login\">\n        <div class=\"login-panel\">\n          \n          <div class=\"login-form\">\n              <div class='language'>\n                    <el-dropdown trigger=\"click\" @command=\"languageChange\" menu-align='start'>\n                      <div class=\"language-inner\">\n                        <span ref=\"language\">{{lang}}</span>\n                        <i class=\"el-icon-caret-bottom el-icon--right\"></i>\n                      </div>\n                      <el-dropdown-menu slot=\"dropdown\" class=\"language-dropdown\">\n                        <el-dropdown-item command=\"简体中文\">简体中文</el-dropdown-item>\n                        <el-dropdown-item command=\"English\">English</el-dropdown-item>\n                      </el-dropdown-menu>\n                    </el-dropdown>\n              </div>\n              <el-form ref=\"formInline\" :model=\"formInline\" :rules=\"ruleInline\" label-width=\"80px\" label-position=\"left\">\n                  <el-form-item prop=\"user\" :label=\"$t('用户名')\">\n                      <el-input type=\"text\" ref=\"user__input\" v-model=\"formInline.user\" :placeholder=\"$t('用户名')\">\n                      </el-input>\n                      <div class=\"user__error\" ref=\"user__error\" @click='handleUserInput()'><span>{{$t('请填写用户名')}}</span></div>\n                  </el-form-item>\n                  <el-form-item prop=\"password\" :label=\"$t('密码')\">\n                    <el-input type=\"password\" ref=\"pwd__input\" v-model=\"formInline.password\" :placeholder=\"$t('密码')\">\n                      </el-input>\n                      <div class=\"pwd__error\" ref=\"pwd__error\" @click='handlePwdInput()'><span>{{$t('请填写密码')}}</span></div>\n                  </el-form-item>\n                  <div class=\"login-btn\" ref=\"login-btn\">\n                      <el-form-item>\n                          <el-button type=\"primary\" @click.stop.prevent=\"handleSubmit('formInline')\">\n                            {{$t('登录')}}\n                          </el-button>\n                      </el-form-item>\n                  </div>\n              </el-form>\n          </div>\n        </div>\n    </div>\n</template>\n<script>\n    export default {\n        data () {\n            var vm = this\n            /*\n             * 用户名验证\n             */\n            var checkName = (rule, value, callback) => {\n                if (value === '') {\n                  vm.$refs['user__input'].$refs['input'].setAttribute('placeholder', '')\n                  vm.$refs['user__error'].style.display = 'block'\n                  callback()\n                } else {\n                  if(value.length > 12) {\n                    vm.$refs['user__input'].$refs['input'].setAttribute('placeholder', '')\n                    vm.$refs['user__error'].style.display = 'block'\n                    vm.$refs['user__error'].children[0].innerHTML = this.$t('用户名长度不能超过12位')\n                    callback()\n                  }\n                  callback()\n                }\n            }\n            /*\n             * 密码验证\n             */\n            var checkPwd = (rule, value, callback) => {\n                if (value === '') {\n                    vm.$refs['pwd__input'].$refs['input'].setAttribute('placeholder', '')\n                    vm.$refs['pwd__error'].style.display = 'block'\n                    callback()\n                } else {\n                    if(value.length < 6 ) {\n                      vm.$refs['pwd__input'].$refs['input'].setAttribute('placeholder', '')\n                      vm.$refs['pwd__error'].style.display = 'block'\n                      vm.$refs['pwd__error'].children[0].innerHTML = this.$t('密码长度不能小于6位')\n                      callback()\n                    }\n                    callback()\n                }\n            }\n            return {\n                lang: localStorage.lang || '简体中文',\n                formInline: { user: 'admin', password: '123456' },\n                ruleInline: {\n                     user: [\n                        {  validator: checkName, trigger: 'blur' }\n                    ],\n                    password: [\n                        {  validator: checkPwd, trigger: 'blur' },\n                    ]\n                },\n            }\n        },\n        created() {\n           this.keyLogin();\n           //this.lang = localStorage.lang || '简体中文'\n           this.handleSubmit();\n        },\n        methods: {\n\n            handleUserInput() {\n                this.$refs['user__error'].style.display = 'none'\n                this.$refs['user__input'].$refs['input'].focus()\n                this.$refs['user__input'].$refs['input'].setAttribute('placeholder', this.$t('用户名'))\n            },\n            handlePwdInput() {\n                this.$refs['pwd__error'].style.display = 'none'\n                this.$refs['pwd__input'].$refs['input'].focus()\n                this.$refs['pwd__input'].$refs['input'].setAttribute('placeholder', this.$t('密码'))\n            },\n            handleSubmit(name) {\n                var vm = this\n                this.$refs[name].validate((valid) => {\n                    if (!valid) {\n                        return\n                    }\n                    var url = '/api.v2.do.user.login'\n                    var params = {\n                        \"userid\": 0,\n                        \"body\": {\n                            \"Name\": this.formInline.user,\n                            \"Password\":this.formInline.password\n                        }\n                    }\n                    this.$http(url, params).then((res) =>{\n                        if(res.data.status !== 0 ){\n                            this.$message({\n                                'type': 'warning',\n                                'message': this.$t(this.$msg[res.data.status]),\n                                'showClose': true,\n                                'duration': 1500\n                            })\n                            return\n                        }\n                        let [tk, uName, uid ] = [res.data.msg.body.Token, this.formInline.user, res.data.msg.body.ID ]\n                        this.$auth.login({ manager: uName,  token: tk, id: uid  })\n                        this.$message({\n                            'type': 'success',\n                            'message': this.$t(\"登录成功\"),\n                            'showClose': true,\n                            'duration': 1500\n                        })\n                        this.$router.push('/')\n                    }).catch((err) =>{\n                        this.$message({\n                            'type': 'error',\n                            'message': this.$t('登录失败!'),\n                            'showClose': true,\n                            'duration': 1500\n                        })\n                        return\n                    })\n                })\n            },\n            keyLogin() {\n                var vm = this\n                window.onkeydown = function() {\n                  if (window.event.keyCode == 13)\n                    vm.handleSubmit('formInline');\n                  }\n            },\n            /*\n             * 语言切换功能\n             */\n            languageChange(lang) {\n              this.$refs['language'].innerText = lang\n              this.lang = lang\n              this.$store.commit('setLanguage', lang)\n            }\n        },\n    }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// index.vue?4c781f8d","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?minimize!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-aeaf5318\",\"scoped\":false,\"hasInlineConfig\":false}!./~/autoprefixer-loader!./~/less-loader!./src/views/login/styles/login.less\n// module id = 873\n// module chunks = 13","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"login\"\n  }, [_c('div', {\n    staticClass: \"login-panel\"\n  }, [_c('div', {\n    staticClass: \"login-form\"\n  }, [_c('div', {\n    staticClass: \"language\"\n  }, [_c('el-dropdown', {\n    attrs: {\n      \"trigger\": \"click\",\n      \"menu-align\": \"start\"\n    },\n    on: {\n      \"command\": _vm.languageChange\n    }\n  }, [_c('div', {\n    staticClass: \"language-inner\"\n  }, [_c('span', {\n    ref: \"language\"\n  }, [_vm._v(_vm._s(_vm.lang))]), _vm._v(\" \"), _c('i', {\n    staticClass: \"el-icon-caret-bottom el-icon--right\"\n  })]), _vm._v(\" \"), _c('el-dropdown-menu', {\n    staticClass: \"language-dropdown\",\n    attrs: {\n      \"slot\": \"dropdown\"\n    },\n    slot: \"dropdown\"\n  }, [_c('el-dropdown-item', {\n    attrs: {\n      \"command\": \"简体中文\"\n    }\n  }, [_vm._v(\"简体中文\")]), _vm._v(\" \"), _c('el-dropdown-item', {\n    attrs: {\n      \"command\": \"English\"\n    }\n  }, [_vm._v(\"English\")])], 1)], 1)], 1), _vm._v(\" \"), _c('el-form', {\n    ref: \"formInline\",\n    attrs: {\n      \"model\": _vm.formInline,\n      \"rules\": _vm.ruleInline,\n      \"label-width\": \"80px\",\n      \"label-position\": \"left\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"prop\": \"user\",\n      \"label\": _vm.$t('用户名')\n    }\n  }, [_c('el-input', {\n    ref: \"user__input\",\n    attrs: {\n      \"type\": \"text\",\n      \"placeholder\": _vm.$t('用户名')\n    },\n    model: {\n      value: (_vm.formInline.user),\n      callback: function($$v) {\n        _vm.$set(_vm.formInline, \"user\", $$v)\n      },\n      expression: \"formInline.user\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    ref: \"user__error\",\n    staticClass: \"user__error\",\n    on: {\n      \"click\": function($event) {\n        _vm.handleUserInput()\n      }\n    }\n  }, [_c('span', [_vm._v(_vm._s(_vm.$t('请填写用户名')))])])], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"prop\": \"password\",\n      \"label\": _vm.$t('密码')\n    }\n  }, [_c('el-input', {\n    ref: \"pwd__input\",\n    attrs: {\n      \"type\": \"password\",\n      \"placeholder\": _vm.$t('密码')\n    },\n    model: {\n      value: (_vm.formInline.password),\n      callback: function($$v) {\n        _vm.$set(_vm.formInline, \"password\", $$v)\n      },\n      expression: \"formInline.password\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    ref: \"pwd__error\",\n    staticClass: \"pwd__error\",\n    on: {\n      \"click\": function($event) {\n        _vm.handlePwdInput()\n      }\n    }\n  }, [_c('span', [_vm._v(_vm._s(_vm.$t('请填写密码')))])])], 1), _vm._v(\" \"), _c('div', {\n    ref: \"login-btn\",\n    staticClass: \"login-btn\"\n  }, [_c('el-form-item', [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        $event.stopPropagation();\n        $event.preventDefault();\n        _vm.handleSubmit('formInline')\n      }\n    }\n  }, [_vm._v(\"\\n                        \" + _vm._s(_vm.$t('登录')) + \"\\n                      \")])], 1)], 1)], 1)], 1)])])\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-loader/node_modules/vue-hot-reload-api\").rerender(\"data-v-aeaf5318\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-aeaf5318\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/login/index.vue\n// module id = 909\n// module chunks = 13"],"sourceRoot":""}